# CS76, Fall 2021, Assignment 6, Tracey Mills
## Description
I created an HMMbot file to contain the HMMbot class and its associated methods, as well as a run_simulation file to keep track of the ground truth, provide the HMMbot with sensor data, record HMMbot predictions, and output these predictions along with the ground truth in an understandable way.  
For the HMMbot class, my class variables are the given maze, a list of all possible locations that the robot could be at, and a corresponding list of the probabilities of being at each of those locations.  
The step method is responsible for updating the probability distribution after the robot makes a movement. It takes as input the color that is sensed at the moved-to location. It then updates the transition model given that a random move was made and the sensor model given the color sensed. Both of these models are matrices. It then takes the dot product of the transition model (transposed), sensor model, and current probability distribution to get the updated, unnormalized distribution. It then normalizes this distribution and saves it as the current probability distribution at that timepoint.  
The get_transition_model method calculates the transition model after a random move is taken. The model T is an nxn matrix where n is the number of possible locations, and T[i][j] gives the probability of transitioning from location i to location j after a random move. The probability of moving from location i to location j after a random move for each i,j is calculated as the proportion of attempted moves N, S, E, or W from location i that would result in the robot moving to location j.  
The get_sensor_model method calculates the sensor model after a color is sensed. The model O is an nxn diagonal matrix, where n is the number of possible locations, and O[i][i] gives the probability of sensing the given color at location i (0.88 if the square is that color, 0.04 otherwise).  
Thus, the dot product described above calculates for each location j, the sum over all locations i of the probability of moving from location i to j, times the probability of sensing the given color at j, times the probability of previously being at location i. After normalization, this calculation gives the updated probability of the robot currently being at each location j.  

## Evaluation
When run with maze0.maz, a 3x3 maze with no walls and all red squares except for one blue square, the bot behaves as expected. The probability distribution starts uniform, and when red is sensed it decreases the probability of the blue square to 0.01 and uniformly increases the other squares accordingly. After a move and sensing red again, the blue square has probability 0.00, the red squares adjacent to the blue square have probabilities 0.10, and the red squares adjacent to only red squares have probabilities 0.14, since it is more probable that it was previously at a red square. When another move is made and red is sensed again, the probability of being at the blue square continues to be 0.00 and the probabilites of squares adjacent to previously lower probability squares continue to decrease. When blue is finally sensed, the probability of being at the blue square shoots up to 0.64, with previously high probability red squares still higher probability than the previously low probability red squares, given that there is a small chance the sensor is mistaken. These sorts of patterns continues as expected as the robot moves.  

When run with maze1.maz, a 4x4 maze with walls and all red squares except for one yellow square, the bot behaves similarly to what is described above, with squares further from the yellow square tending to have higher probability, until yellow is sensed. Now, red squares andjacent to more walls tend to have higher probability, since more attempted moves from these squares lead to the same squares, so the high probability of being at these squares is iteratively increased. WHen a color other than yellow or red is sensed, the lower probability color increases in probability, while the higher probability color decreases in probability, since the color is equally likely to be sensed at any square.  

When run with maze2.maz, a 10x10 maze with some walls and all 4 colors, the robot behaves similarly but becomes more robust to mistaken sensors. In the given maze, only the top row is red, with a large block of yellow squares at the bottom of the maze. After sensing many yellow squares in a row, the probabilities at this block are high. When a red square is mistakenly sensed, the probability of the bot being in the top row increases, but not by much, since the probability of previously being in the far-away large yellow block is so high. Red squares adjacent to yellow squares increase in probability more than other red squares.

